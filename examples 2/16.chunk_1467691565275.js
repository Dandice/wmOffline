webpackJsonp([16],{7:function(e,n,i){var o;o=function(){function e(){var e=null,n=null;return{then:function(i){e=i,n&&e.apply(null,n)},resolve:function(){n=arguments,e&&e.apply(null,n)}}}function n(){var e=new t.Deferred,n=Array.prototype.slice.call(arguments,0),i=[],o=0;return n.length>0&&n.forEach(function(t,a){t.then(function(t){o++,i[a]=t,o==n.length&&e.resolve.apply(null,i)})}),e}var o=i(5),t={_uid:0,getAjaxData:function(e,n,i,o){t.ajax.get(e,n,i,o)},postAjaxData:function(e,n,i,o,a){t.ajax.post(e,n,i,o,a)},jsonp:function(e,n,i,o){var a=document.getElementsByTagName("head")[0],r=document.createElement("script"),d="func_"+t.md5(),c=t.param(n);e+=1!=e.indexOf("?")?"&"+c+"&callback="+d:"?"+c+"&callback="+d,window[d]=function(e){i&&i(e)},r.src=e,r.onerror=function(){o&&o()},a.appendChild(r)},md5:function(e){for(var n=e||3,i=0,o="";i<n;i++)o+=Math.floor(65535*Math.random()).toString(32)+this.uuid();return o},uuid:function(){return++this._uid},ajax:function(){function e(e,n,i,o,a,r,d){var c=null;if(window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLHTTP")),null!=c){var l=e,p=t.param(i);p&&(l=e+"?"+p),c.timeout=1e4,c.open(n,l,!0),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var e=c.responseText;"json"==d?a&&a(JSON.parse(e)):a&&a(e)}else{var e=c.responseText;r&&r(e)}},c.onprogress=function(){},c.ontimeout=function(e){r&&r("请求超时")}}var s;if(o){var u=[];for(var w in o)u.push(w+"="+encodeURIComponent(o[w]));s=u.join("&"),s.length&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}c.send(s)}return{get:function(n,i,o,t){e(n,"GET",i,null,o,t,"json")},post:function(n,i,o,t,a){e(n,"POST",i,o,t,a,"json")}}}(),param:function(e){var n=[];for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return n.join("&")},isWeixin:function(){return navigator.userAgent.indexOf("MicroMessenger")>-1},isIOS:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("iphone")!=-1||e.indexOf("ipad")!=-1||e.indexOf("ipod")!=-1},open:function(e){var n=location.href.replace(location.hash),i=n+e;try{if(window.WMApp){var o={pageName:"webview",pageParams:{url:encodeURIComponent(i),header:1}};window.WMApp.page.changePage(o)}else location.href=i}catch(t){location.href=i}},getParams:function(e){var n,i,o,t={};if(e=e||window.location.href,e.indexOf("?")==-1)return t;for(i=e.slice(e.indexOf("?")+1).split("&"),o=0;o<i.length;o++)i[o]&&i[o].indexOf("=")!=-1&&(n=i[o].split("="),n[1]&&(t[n[0]]=n[1].indexOf("#")!=-1?n[1].slice(0,n[1].indexOf("#")):n[1]));return t},translateCityCode:function(e,n){var i="/mobile/waimai?qt=convertcitycode&source=BNCode&display=json&sourceCode="+e;t.ajax.get(i,{},function(e){0==e.error_no&&n&&n(e.result)},function(){n&&n({cityCode:131})})},na:function(){return{setTitleBar:function(e,n,i){window.WMApp?(window.WMApp.page.setTitleBar({titleText:e,titleClickAble:0,actionText:n||"",actionClickAble:1}),i&&window.WMApp.entry.setPageAction("onActionClick",i)):window.BNJS&&window.BNJS.ui.title.setTitle(e)},checkVersion:function(e,n){function i(e){var n=e.split("."),i=n.length,o=0;return n.forEach(function(e,n){o+=e*Math.pow(10,2*(i-n))}),o}if(window.WMApp){var o=window.WMApp.device.getAppVersion();o&&(i(o)<i(e)?n&&n(!0):n&&n(!1))}else n&&n(!1)},selectAddress:function(e,n,i,o,t){var a=location.origin+"/mobile/waimai?qt=addresslist&id="+n+"&address_id="+n+"&shop_id="+e+"&urlfrom=orderconfirm&pinzhiPayV2=1&lat="+i+"&lng="+o;window.WMApp||(a+="&fromWeixin=1"),window.WMApp&&window.WMApp.address?location.href="bdwm://zaocan?url="+encodeURIComponent(a):location.href=a},addAddress:function(e,n,i,o){var t=location.origin+"/mobile/waimai?qt=addressadd&shop_id="+e+"&urlfrom=orderconfirm&pagelets[]=pager&pinzhiPayV2=1";window.WMApp||(t+="&fromWeixin=1"),window.WMApp&&window.WMApp.address?location.href="bdwm://zaocan?url="+encodeURIComponent(t):location.href=t},selectCoupon:function(e,n,i,o){if(window.WMApp&&window.WMApp.coupon){var t={shopId:e,totalOrderPrice:n+"",payPlat:i};WMApp.coupon.selectCoupon(t,function(e){e.status&&o&&o(e.result.couponId)})}else{var a=location.origin+"/mobile/waimai?qt=getvalidcoupon&shop_id="+this.props.params.shopId+"&order_price="+cartData.totalPrice+"&pay_plat="+i+"&pinzhiPayV2=1&t="+(new Date).getTime();location.href=a}},pay:function(e,n,i,o,t){if(window.WMApp&&window.WMApp.pay.doPay){var a={payType:n,payParams:i};window.WMApp.pay.doPay(a,function(e){e.status?o&&o():t&&t()})}else window.BNJS?(i=JSON.parse(i),i.onSuccess=function(){o&&o()},i.onCancel=function(){t&&t()},window.BNJS.page.startPay(i)):location.href=e},getLngLat:function(){return window.WMApp?{lng:window.WMApp.location.getLocLng(),lat:window.WMApp.location.getLocLat()}:window.BNJS?(window.BNJS.location.getLocation(),{lng:window.BNJS.location.longitude,lat:window.BNJS.location.latitude}):void 0},getLngLatAsync:function(e){if(window.WMApp){var n=function(n){i||(i=!0,e&&e(n))},i=!1;window.WMApp.location.getAsyncLocation(n),setTimeout(n,1e3)}else if(window.BNJS){var t=function(n){i||(i=!0,n&&0==n.errno?e&&e({lng:n.data.longitude,lat:n.data.latitude,cityId:o.getData("pinzhicurcityid"),address:n.data.address}):e&&e({lat:"",lng:"",cityId:131,address:""}))},i=!1;window.BNJS.location.requestRealTimeLocation(t),setTimeout(t,2e3)}else e&&e({lat:"",lng:"",cityId:131,address:""})},getAntiCheating:function(e){if(window.WMApp){var n=function(n){i||(i=!0,e&&e(n))},i=!1;window.WMApp.device.getAntiCheating(n),setTimeout(n,1e3)}else if(window.BNJS){var o=function(n){i||(i=!0,0==n.errno?"ios"==window.BNJS.device.platform?e&&e({result:{cheatInfo:""}}):e&&e({result:{cheatInfo:n.data.accode}}):e&&e({result:{cheatInfo:""}}))},i=!1;window.BNJS.env.acCode("waimai",o)}else e&&e({result:{cheatInfo:""}})},getFrom:function(e){return window.WMApp?window.WMApp.device.getFrom():window.BNJS?"ios"==window.BNJS.device.platform?"bn-ios":"bn-android":"webapp"},getClient:function(e){if(!window.BNJS)return"";var n="-android";switch("ios"==window.BNJS.device.platform&&(n="-iphone"),BNJS.env.packageName){case"com.renren-inc.nuomi":return"nuomi"+n;case"com.baidu.wallet":return"qianbao"+n;case"com.baidu.map":return"map"+n;case"com.baidu.secretary":return"dumi"+n;case"com.baidu":return"kuang"+n;default:return"nuomi"+n}},changePage:function(e){if(window.WMApp){var n={pageName:"webview",pageParams:{url:encodeURIComponent(e),header:1}};window.WMApp.page.changePage(n)}else if(window.BNJS){var i="bainuo://component?url="+encodeURIComponent(e);window.BNJS.page.start(i,{},0,"rtl")}else location.href=e},getVersion:function(e){return window.WMApp?window.WMApp.device.getAppVersion():"3.7.1"},getDeviceInfo:function(){return window.WMApp?window.WMApp.device.getDevice():window.BNJS?{from:"webapp",cuid:window.BNJS.env.cuid,os:window.BNJS.device.os,sv:"3.7.1",model:window.BNJS.device.name,screen:window.BNJS.device.screenWidth+"*"+window.BNJS.device.screenHeight,channel:window.BNJS.env.appChannel,loc_lat:window.BNJS.location.latitude,loc_lng:window.BNJS.location.longitude,city_id:window.BNJS.location.cityCode,address:window.BNJS.location.address}:{from:"webapp",cuid:"",os:"",sv:"",model:"",screen:"",channel:"",loc_lat:"",loc_lng:"",city_id:"",address:""}},ready:function(e,n){var i=!1;window.WMApp?(i=!0,e&&e()):window.BNJS&&window.BNJS._isAllReady?(i=!0,e&&e()):(document.addEventListener("WMAppReady",function(){i||(i=!0,e&&e())}),document.addEventListener("BNJSReady",function(){i||(i=!0,e&&e())}),setTimeout(function(){i||window.BNJS||(i=!0,e&&e())},1500))},login:function(e,n){if(window.WMApp)window.WMApp.account.login(function(n){n.status&&e&&e()});else if(window.BNJS)window.BNJS.account.login({onSuccess:function(){e&&e()},onFail:function(e){alert("登陆失败！")}});else{var i=n||location.href;location.href="http://wappass.baidu.com/passport/?authsite=1&sms=1&u="+encodeURIComponent(i)}},bindPhone:function(){location.href="http://wappass.baidu.com/wp/bindwidget-bindmobile?bindToSmsLogin=1&u="+encodeURIComponent(location.href)},close:function(){window.WMApp?window.WMApp.page.closePage():window.BNJS?window.BNJS.page.back():history.back()}}}(),sak:function(e,n){var i=new Image,a=!0,r={resid:31,func:"place",da_ver:"2.1.0",da_trd:"xinpin_pinzhi",page:e.page||"PinZhiCollect",da_src:e.da_src||"PinZhiCollectPg",da_act:e.da_act||"collect",from:"webapp",xid1:t.filterFrom(e.xid1)||"",xid2:e.xid2||"",xid3:e.xid3||"",xid4:e.xid4||"",xid5:e.xid5||"",city_id:o.getData("pinzhicurcityid"),t:Date.now()},d="http://log.waimai.baidu.com/static/transparent.gif?"+t.param(r);i.onload=function(){i=null,a&&n&&(a=!1,n())},n&&setTimeout(function(){a&&(a=!1,n())},300),i.src=d},filterFrom:function(e){var n=["bdjg","nabanner","weixin","nuomi","nmbanner","ditu","shoubai","qianbao","sms","smzdm","wuliao","startScreen","toutiao","hongbao","apppush","dtentry","other"],i=n.indexOf(e);return i==-1&&(i=n.length-1),n[i]},sakOrderId:function(e,n,i,o,a,r){t.sak({xid1:t.filterFrom(e),xid2:n,xid3:o,xid4:i,xid5:a},r)}};return t.Deferred=e,t.when=n,t}.call(n,i,n,e),!(void 0!==o&&(e.exports=o))},127:function(e,n,i){var o,t=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(n,i,o,t){var a=n&&n.defaultProps,r=arguments.length-3;if(i||0===r||(i={}),i&&a)for(var d in a)void 0===i[d]&&(i[d]=a[d]);else i||(i=a||{});if(1===r)i.children=t;else if(r>1){for(var c=Array(r),l=0;l<r;l++)c[l]=arguments[l+3];i.children=c}return{$$typeof:e,type:n,key:void 0===o?null:""+o,ref:null,props:i,_owner:null}}}();i(176);var a=t("i",{}),r=t("div",{className:"title"},void 0,"提交订单"),d=t("div",{className:"tool"}),c=t("p",{className:"title"},void 0,"请在微信中完成支付");o=function(){var e=i(1),n=i(5),o=i(7);return e.createClass({getInitialState:function(){var e=n.getData("COM_weixinParms"),i=JSON.parse(e);return this.doPay(i),{}},componentDidMount:function(){o.na.setTitleBar("提交订单")},doPay:function(e){function n(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:""+e.timeStamp,nonceStr:e.nonceStr,"package":e["package"],signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(i.clearPageLocalData(),location.href=location.href.replace(location.hash,"")+"#/orderSuccess"):"get_brand_wcpay_request:cancel"==e.err_msg||"get_brand_wcpay_request:fail"==e.err_msg})}var i=this;"undefined"==typeof WeixinJSBridge?document.addEventListener&&document.addEventListener("WeixinJSBridgeReady",n,!1):n()},render:function(){return t("div",{id:"order-weixin-page"},void 0,t("div",{className:"title-bar"},void 0,t("div",{className:"back",onTouchStart:this.back},void 0,a),r,d),t("div",{className:"content-box"},void 0,c,t("p",{className:"question"},void 0,"支付遇到问题？",t("span",{onTouchStart:this.back,className:"backBtn"},void 0,"返回"))))},clearPageLocalData:function(){n.deleteData(this.props.params.shopId),n.deleteData("COM_couponId"),n.deleteData("COM_weixinParms")},back:function(){window.WMApp?window.WMApp.page.closePage():history.back()}})}.call(n,i,n,e),!(void 0!==o&&(e.exports=o))},176:function(e,n,i){n=e.exports=i(2)(),n.push([e.id,"#order-weixin-page{width:100%;height:100%;position:relative}#order-weixin-page .content-box{position:absolute;left:0;top:50%;height:8rem;width:100%;text-align:center;margin-top:-4rem}#order-weixin-page .content-box .title{font-size:2.2rem;margin-bottom:2rem;color:#999}#order-weixin-page .content-box .question{text-align:center}#order-weixin-page .content-box .question span{font-size:1.2rem;color:#999}#order-weixin-page .content-box .question .backBtn{border:1px solid #ff9300;color:#ff9300;padding:.3rem 1rem;border-radius:4px}#order-weixin-page .title-bar{background-color:#ff2d4b;height:4rem;line-height:4rem;display:box;display:-webkit-box;font-size:1.8rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-start:left;position:absolute;left:0;top:0;width:100%;display:none}#order-weixin-page .title-bar .back{width:4rem;vertical-align:middle;text-align:center}#order-weixin-page .title-bar .back i{display:inline-block;background:url("+i(225)+") no-repeat;background-size:100%;width:.9rem;height:1.8rem;vertical-align:middle}#order-weixin-page .title-bar .title{box-flex:1;-webkit-box-flex:1;text-align:center;color:#fff;vertical-align:middle}#order-weixin-page .title-bar .tool{width:4rem;vertical-align:middle;text-align:center;color:#fff;font-size:1.5rem}",""])},225:function(e,n,i){e.exports=i.p+"images/back.a508f685.png"}});